<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>طلباتي - نطاق</title>
    <!-- الخطوط -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="images/icon.png">
    <link rel="icon" type="image/png" href="images/icon.png">
    <link rel="apple-touch-icon" href="images/icon.png">
    <meta name="theme-color" content="#6f8051">
    <style>
        :root {
            --primary-color: #6f8051;
            --primary-light: #8a9d6a;
            --primary-dark: #5a6a42;
            --secondary-color: #919663;
            --background-light: #f8f9fa;
            --accent-light: #ffffff;
            --accent-dark: #e9ecef;
            --text-dark: #2c3e50;
            --text-light: #6c757d;
            --white: #ffffff;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-card: 0 4px 16px rgba(0, 0, 0, 0.06);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --border-radius: 12px;
            --border-radius-lg: 16px;
            --border-radius-sm: 8px;
        }

        .orders-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 32px;
            background: var(--background-light);
            min-height: calc(100vh - 80px);
            display: grid;
            gap: 32px;
        }

        .orders-header {
            background: var(--accent-light);
            padding: 32px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-card);
            display: grid;
            gap: 24px;
            border: 1px solid var(--accent-dark);
        }

        .orders-stats {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
        }

        .stat-card {
            background: var(--white);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-dark);
            flex: 1;
            min-width: 200px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .stat-icon.today {
            background: #e3f2fd;
            color: #0d47a1;
        }

        .stat-icon.profit {
            background: #e8f5e9;
            color: #1b5e20;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .orders-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .orders-title i {
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .orders-filters {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 24px;
            border: 2px solid var(--accent-dark);
            border-radius: 30px;
            background: var(--accent-light);
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.95rem;
        }

        .filter-btn:hover {
            border-color: var(--primary-light);
            color: var(--primary-color);
            transform: translateY(-1px);
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .orders-grid {
            display: grid;
            gap: 32px;
        }

        .order-card {
            background: var(--accent-light);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-card);
            transition: var(--transition);
            border: 1px solid var(--accent-dark);
            overflow: hidden;
            display: grid;
        }

        .order-header {
            padding: 24px 32px;
            background: var(--accent-light);
            border-bottom: 1px solid var(--accent-dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .order-id {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .order-id i {
            color: var(--primary-color);
        }

        .order-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-new {
            background: #e3f2fd;
            color: #0d47a1;
        }

        .status-in-progress {
            background: #fff3cd;
            color: #856404;
        }

        .status-rejected {
            background: #f8d7da;
            color: #721c24;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .order-content {
            padding: 32px;
            display: grid;
            gap: 32px;
        }

        .order-main-section {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 32px;
        }

        .client-info {
            background: var(--background-light);
            padding: 32px;
            border-radius: var(--border-radius);
            height: fit-content;
            border: 1px solid var(--accent-dark);
            display: grid;
            gap: 24px;
        }

        .client-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--white);
            box-shadow: var(--shadow);
            margin: 0 auto;
        }

        .client-details {
            display: grid;
            gap: 16px;
        }

        .client-name {
            font-weight: 700;
            color: var(--text-dark);
            font-size: 1.25rem;
        }

        .client-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .badge .rating-count {
            font-size: 0.75rem;
            opacity: 0.8;
            margin-right: 2px;
        }

        .badge i {
            font-size: 0.9rem;
        }

        .badge-good {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge-danger {
            background: #f8d7da;
            color: #721c24;
        }

        .badge-info {
            background: #cce5ff;
            color: #004085;
        }

        .badge-success {
            background: #d1e7dd;
            color: #0f5132;
        }

        .badge-premium {
            background: linear-gradient(45deg, #ffd700, #ffa500);
            color: #fff;
        }

        .badge-new {
            background: #e3f2fd;
            color: #0d47a1;
        }

        .badge-verified {
            background: #e8f5e9;
            color: #1b5e20;
        }

        .badge-frequent {
            background: #f3e5f5;
            color: #4a148c;
        }

        .badge-cancelled {
            background: #f8d7da;
            color: #721c24;
        }

        .badge-complained {
            background: #fff3cd;
            color: #856404;
        }

        .badge-punctual {
            background: #d1e7dd;
            color: #0f5132;
        }

        .badge-late {
            background: #f8d7da;
            color: #721c24;
        }

        .badge-generous {
            background: linear-gradient(45deg, #ffd700, #ffa500);
            color: #fff;
        }

        .badge-stingy {
            background: #f8d7da;
            color: #721c24;
        }

        .badge-respectful {
            background: #e8f5e9;
            color: #1b5e20;
        }

        .badge-rude {
            background: #f8d7da;
            color: #721c24;
        }

        .badge-scammer {
            background: #dc3545;
            color: #fff;
        }

        .badge-late-payment {
            background: #dc3545;
            color: #fff;
        }

        .badge-cancellation {
            background: #ffc107;
            color: #000;
        }

        .badge-complainer {
            background: #ffc107;
            color: #000;
        }

        .badge-unreliable {
            background: #dc3545;
            color: #fff;
        }

        .badge-difficult {
            background: #dc3545;
            color: #fff;
        }

        .badge-no-tip {
            background: #6c757d;
            color: #fff;
        }

        .badge-bad-rating {
            background: #dc3545;
            color: #fff;
        }

        .badge-suspicious {
            background: #dc3545;
            color: #fff;
        }

        .rate-client-btn {
            padding: 8px 16px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .rate-client-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .client-info-row {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .client-info-row i {
            width: 20px;
            color: var(--primary-color);
            font-size: 1rem;
        }

        .order-details {
            background: var(--background-light);
            padding: 32px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-dark);
            display: grid;
            gap: 24px;
        }

        .details-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 20px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .details-title i {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .details-text {
            color: var(--text-dark);
            line-height: 1.7;
            margin-bottom: 24px;
            font-size: 1rem;
        }

        .details-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--accent-dark);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .meta-item i {
            color: var(--primary-color);
            width: 20px;
            font-size: 1.1rem;
        }

        .quick-responses {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .quick-response-btn {
            padding: 16px 24px;
            background: var(--accent-light);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            border-radius: var(--border-radius);
            font-size: 0.95rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .custom-message {
            margin: 32px 0;
        }

        .message-input {
            width: 100%;
            padding: 20px;
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            font-family: inherit;
            resize: vertical;
            min-height: 140px;
            font-size: 0.95rem;
            line-height: 1.6;
            transition: var(--transition);
        }

        .order-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
        }

        .action-btn {
            padding: 16px 24px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: none;
            font-size: 1rem;
        }

        .accept-btn {
            background: var(--success-color);
            color: var(--white);
        }

        .accept-btn:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .reject-btn {
            background: var(--white);
            color: var(--danger-color);
            border: 2px solid var(--danger-color);
        }

        .reject-btn:hover {
            background: var(--danger-color);
            color: var(--white);
            transform: translateY(-1px);
        }

        .schedule-btn {
            background: var(--info-color);
            color: var(--white);
        }

        .schedule-btn:hover {
            background: #138496;
            transform: translateY(-1px);
        }

        .chat-btn {
            background: var(--primary-color);
            color: var(--white);
        }

        .chat-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        @media (max-width: 1200px) {
            .orders-container {
                padding: 32px 24px;
            }

            .order-main-section {
                grid-template-columns: 300px 1fr;
            }
        }

        @media (max-width: 1024px) {
            .order-main-section {
                grid-template-columns: 1fr;
            }

            .client-info {
                display: grid;
                grid-template-columns: auto 1fr;
                align-items: center;
                gap: 24px;
                padding: 24px;
            }

            .client-avatar {
                width: 80px;
                height: 80px;
                margin: 0;
            }

            .client-details {
                gap: 12px;
            }
        }

        @media (max-width: 768px) {
            .orders-container {
                padding: 24px 16px;
                gap: 24px;
            }

            .orders-header {
                padding: 24px;
                gap: 16px;
            }

            .orders-title {
                font-size: 1.75rem;
            }

            .order-content {
                padding: 24px;
                gap: 24px;
            }

            .client-info {
                grid-template-columns: 1fr;
                text-align: center;
                padding: 24px;
            }

            .client-avatar {
                width: 90px;
                height: 90px;
                margin: 0 auto;
            }

            .client-details {
                gap: 16px;
            }

            .client-info-row {
                justify-content: center;
            }

            .order-details {
                padding: 24px;
            }

            .quick-responses {
                grid-template-columns: 1fr;
            }

            .order-actions {
                grid-template-columns: 1fr;
            }

            .action-btn {
                padding: 14px 20px;
            }
        }

        .no-orders {
            text-align: center;
            padding: 40px 20px;
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .no-orders-icon {
            font-size: 3rem;
            color: var(--text-light);
            margin-bottom: 16px;
        }

        .no-orders-text {
            color: var(--text-light);
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--accent-light);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            padding: 32px;
            border-radius: var(--border-radius-lg);
            width: 95%;
            max-width: 1400px;
            position: relative;
            box-shadow: var(--shadow-card);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-light);
            cursor: pointer;
            padding: 4px;
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--danger-color);
        }

        .rating-form {
            display: grid;
            gap: 24px;
        }

        .form-group {
            display: grid;
            gap: 8px;
        }

        .form-label {
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-input {
            padding: 12px;
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            font-family: inherit;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .form-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .rating-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .rating-tag {
            padding: 6px 12px;
            background: var(--accent-light);
            border: 1px solid var(--accent-dark);
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .rating-tag:hover {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .rating-tag.selected {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .submit-rating {
            padding: 12px 24px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .submit-rating:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .client-actions {
            display: flex;
            gap: 12px;
            margin-top: 12px;
        }

        .report-btn {
            padding: 8px 16px;
            background: var(--danger-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .report-btn:hover {
            background: #c82333;
            transform: translateY(-1px);
        }

        .report-form {
            display: grid;
            gap: 24px;
        }

        .report-reasons {
            display: grid;
            gap: 12px;
        }

        .report-reason {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .report-reason:hover {
            background: var(--accent-light);
        }

        .report-reason input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: var(--danger-color);
        }

        .report-reason-label {
            font-size: 0.95rem;
            color: var(--text-dark);
        }

        .submit-report {
            padding: 12px 24px;
            background: var(--danger-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .submit-report:hover {
            background: #c82333;
            transform: translateY(-1px);
        }

        .schedule-form {
            display: grid;
            gap: 24px;
        }

        .submit-schedule {
            padding: 12px 24px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .submit-schedule:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .provider-response {
            background: var(--accent-light);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-dark);
            margin-top: 24px;
        }

        .response-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            color: var(--text-dark);
            font-weight: 600;
        }

        .response-header i {
            color: var(--primary-color);
        }

        .response-content {
            color: var(--text-dark);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .response-time {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .response-time i {
            font-size: 0.8rem;
        }

        .floating-btn {
            position: fixed;
            bottom: 32px;
            left: 32px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-color);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow-card);
            cursor: pointer;
            transition: var(--transition);
            z-index: 100;
        }

        .floating-btn:hover {
            transform: translateY(-2px);
            background: var(--primary-dark);
        }

        .manual-order-form {
            display: grid;
            gap: 32px;
        }

        .form-section {
            background: var(--background-light);
            padding: 24px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-dark);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--primary-color);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .order-items {
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            overflow: hidden;
            background: var(--white);
        }

        .order-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr auto;
            gap: 24px;
            padding: 20px;
            border-bottom: 1px solid var(--accent-dark);
            align-items: center;
        }

        .item-details {
            display: grid;
            gap: 8px;
        }

        .item-name {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.1rem;
        }

        .item-price {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .item-quantity {
            display: flex;
            align-items: center;
            gap: 12px;
            justify-content: center;
        }

        .quantity-btn {
            width: 36px;
            height: 36px;
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            background: var(--white);
            color: var(--text-dark);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            padding: 8px;
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
        }

        .remove-item {
            color: var(--danger-color);
            background: none;
            border: none;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 8px;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--border-radius);
        }

        .remove-item:hover {
            background: var(--danger-color);
            color: var(--white);
        }

        .add-item-btn {
            padding: 12px;
            background: var(--white);
            border: 2px dashed var(--primary-color);
            border-radius: var(--border-radius);
            color: var(--primary-color);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
            font-size: 0.95rem;
        }

        .add-item-btn:hover {
            background: var(--primary-color);
            color: var(--white);
            transform: translateY(-1px);
            box-shadow: var(--shadow);
        }

        .add-item-btn i {
            font-size: 1.1rem;
        }

        .order-total {
            margin-top: 24px;
            padding: 20px;
            background: var(--white);
            border-radius: var(--border-radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--text-dark);
            border: 1px solid var(--accent-dark);
        }

        .total-amount {
            color: var(--primary-color);
            font-size: 1.4rem;
        }

        @media (max-width: 768px) {
            .order-item {
                grid-template-columns: 1fr;
                gap: 16px;
                text-align: center;
            }

            .item-quantity {
                justify-content: center;
            }

            .remove-item {
                margin: 0 auto;
            }
        }

        .form-input[readonly] {
            background-color: var(--background-light);
            cursor: not-allowed;
        }

        .form-input[readonly]:focus {
            border-color: var(--accent-dark);
            outline: none;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }

        .service-card {
            background: var(--background-light);
            padding: 12px;
            border-radius: var(--border-radius);
            border: 1px solid var(--accent-dark);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            display: grid;
            gap: 8px;
        }

        .service-card i {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .service-card span {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .service-card small {
            color: var(--text-light);
            font-size: 0.85rem;
        }

        .services-search {
            margin-bottom: 16px;
        }

        .search-box {
            position: relative;
            max-width: 400px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 40px 12px 12px;
            border: 1px solid var(--accent-dark);
            border-radius: var(--border-radius);
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .service-category.hidden {
            display: none;
        }

        .service-card.hidden {
            display: none;
        }

        .submit-manual-order {
            padding: 16px 32px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1.1rem;
            margin-top: 32px;
            width: 100%;
        }

        .submit-manual-order:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow);
        }

        .submit-manual-order i {
            font-size: 1.2rem;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">
                    <img src="images/logo.png" alt="نطاق" class="logo-img">
                </a>

                <div class="nav-actions">
                    <div class="notification-icon">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>

                    <div class="user-menu">
                        <img src="images/user-avatar.jpg" class="user-avatar">
                        <div class="dropdown">
                            <a href="/profile" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                الملف الشخصي
                            </a>
                            <a href="/settings" class="dropdown-item">
                                <i class="fas fa-cog"></i>
                                الإعدادات
                            </a>
                            <a href="/logout" class="dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
                                تسجيل الخروج
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Orders Section -->
    <section class="orders-container">
        <div class="orders-header">
            <h1 class="orders-title">طلباتي</h1>
            <div class="orders-stats">
                <div class="stat-card">
                    <div class="stat-icon today">
                        <i class="fas fa-calendar-day"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">5</div>
                        <div class="stat-label">طلبات اليوم</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon profit">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">1,150 ريال</div>
                        <div class="stat-label">أرباح اليوم</div>
                    </div>
                </div>
            </div>
            <div class="orders-filters">
                <button class="filter-btn active" data-filter="all">الكل</button>
                <button class="filter-btn" data-filter="new">طلبات جديدة</button>
                <button class="filter-btn" data-filter="in-progress">جاري العمل</button>
                <button class="filter-btn" data-filter="completed">منتهية</button>
                <button class="filter-btn" data-filter="rejected">مرفوضة</button>
            </div>
        </div>

        <div class="orders-grid">
            <!-- طلب جديد - عميل جيد -->
            <div class="order-card" data-status="new">
                <div class="order-header">
                    <div class="order-id">
                        <i class="fas fa-hashtag"></i>
                        طلب #12345
                    </div>
                    <div class="order-status status-new">
                        <i class="fas fa-star"></i>
                        طلب جديد
                    </div>
                </div>
                <div class="order-content">
                    <div class="order-main-section">
                        <div class="client-info">
                            <img src="images/client-avatar.jpg" alt="صورة العميل" class="client-avatar">
                            <div class="client-details">
                                <div class="client-name">محمد أحمد</div>
                                <div class="client-badges">
                                    <span class="badge badge-verified">
                                        <i class="fas fa-check-circle"></i>
                                        عميل موثق
                                    </span>
                                    <span class="badge badge-premium">
                                        <i class="fas fa-crown"></i>
                                        يدفع إكرامية جيدة
                                        <span class="rating-count">(15 تقييم)</span>
                                    </span>
                                    <span class="badge badge-frequent">
                                        <i class="fas fa-repeat"></i>
                                        عميل متكرر
                                        <span class="rating-count">(8 طلبات)</span>
                                    </span>
                                    <span class="badge badge-punctual">
                                        <i class="fas fa-clock"></i>
                                        دقيق في المواعيد
                                        <span class="rating-count">(12 تقييم)</span>
                                    </span>
                                    <span class="badge badge-respectful">
                                        <i class="fas fa-handshake"></i>
                                        محترم
                                        <span class="rating-count">(20 تقييم)</span>
                                    </span>
                                </div>
                                <div class="client-actions">
                                    <button class="rate-client-btn" onclick="openRatingModal(this)">
                                        <i class="fas fa-star"></i>
                                        تقييم العميل
                                    </button>
                                    <button class="report-btn" onclick="openReportModal(this)">
                                        <i class="fas fa-flag"></i>
                                        إبلاغ
                                    </button>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>الرياض، حي النخيل</span>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-phone"></i>
                                    <span>+966 50 123 4567</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-details">
                            <div class="details-title">
                                <i class="fas fa-clipboard-list"></i>
                                تفاصيل الطلب
                            </div>
                            <p class="details-text">مطلوب إصلاح عطل في الكهرباء في المنزل. المشكلة في لوحة التحكم الرئيسية.</p>
                            <div class="details-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>15 مارس 2024</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>10:00 صباحاً</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>150 ريال</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="quick-responses">
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-clock"></i>
                            سأكون هناك خلال 30 دقيقة
                        </button>
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-hourglass-half"></i>
                            سأكون هناك خلال ساعة
                        </button>
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-ban"></i>
                            لست متاحاً حالياً
                        </button>
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-calendar-alt"></i>
                            هل يمكننا تحديد موعد آخر؟
                        </button>
                    </div>

                    <div class="custom-message">
                        <textarea class="message-input" placeholder="اكتب رسالة مخصصة للعميل..."></textarea>
                    </div>

                    <div class="order-actions">
                        <button class="action-btn accept-btn" onclick="handleOrderResponse(this, 'accept')">
                            <i class="fas fa-check"></i>
                            قبول الطلب
                        </button>
                        <button class="action-btn reject-btn" onclick="handleOrderResponse(this, 'reject')">
                            <i class="fas fa-times"></i>
                            رفض الطلب
                        </button>
                        <button class="action-btn schedule-btn" onclick="scheduleOrder(this)">
                            <i class="fas fa-calendar-alt"></i>
                            تحديد موعد
                        </button>
                    </div>
                </div>
            </div>

            <!-- طلب جاري العمل - عميل متأخر في الدفع -->
            <div class="order-card" data-status="in-progress">
                <div class="order-header">
                    <div class="order-id">
                        <i class="fas fa-hashtag"></i>
                        طلب #12344
                    </div>
                    <div class="order-status status-in-progress">
                        <i class="fas fa-tools"></i>
                        جاري العمل
                    </div>
                </div>
                <div class="order-content">
                    <div class="order-main-section">
                        <div class="client-info">
                            <img src="images/client-avatar.jpg" alt="صورة العميل" class="client-avatar">
                            <div class="client-details">
                                <div class="client-name">أحمد محمد</div>
                                <div class="client-badges">
                                    <span class="badge badge-warning">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        متأخر في الدفع
                                        <span class="rating-count">(5 تقييم)</span>
                                    </span>
                                    <span class="badge badge-late">
                                        <i class="fas fa-clock"></i>
                                        متأخر في المواعيد
                                        <span class="rating-count">(3 تقييم)</span>
                                    </span>
                                    <span class="badge badge-stingy">
                                        <i class="fas fa-coins"></i>
                                        لا يدفع إكرامية
                                        <span class="rating-count">(7 تقييم)</span>
                                    </span>
                                </div>
                                <div class="client-actions">
                                    <button class="rate-client-btn" onclick="openRatingModal(this)">
                                        <i class="fas fa-star"></i>
                                        تقييم العميل
                                    </button>
                                    <button class="report-btn" onclick="openReportModal(this)">
                                        <i class="fas fa-flag"></i>
                                        إبلاغ
                                    </button>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>جدة، حي الروضة</span>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-phone"></i>
                                    <span>+966 55 987 6543</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-details">
                            <div class="details-title">
                                <i class="fas fa-clipboard-list"></i>
                                تفاصيل الطلب
                            </div>
                            <p class="details-text">مطلوب صيانة مكيف سبليت في غرفة المعيشة. المكيف لا يعمل بشكل جيد.</p>
                            <div class="details-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>14 مارس 2024</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>2:00 مساءً</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>200 ريال</span>
                                </div>
                            </div>
                            <div class="provider-response">
                                <div class="response-header">
                                    <i class="fas fa-reply"></i>
                                    ردك على الطلب
                                </div>
                                <div class="response-content">
                                    تم استلام طلبكم وسأبدأ العمل على إصلاح المكيف في الموعد المحدد
                                </div>
                                <div class="response-time">
                                    <i class="fas fa-clock"></i>
                                    تم الرد في 14 مارس 2024 - 1:30 مساءً
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="order-actions">
                        <button class="action-btn complete-btn" onclick="completeOrder(this)">
                            <i class="fas fa-check-double"></i>
                            إنهاء الطلب
                        </button>
                    </div>
                </div>
            </div>

            <!-- طلب مرفوض - عميل مشبوه -->
            <div class="order-card" data-status="rejected">
                <div class="order-header">
                    <div class="order-id">
                        <i class="fas fa-hashtag"></i>
                        طلب #12343
                    </div>
                    <div class="order-status status-rejected">
                        <i class="fas fa-times"></i>
                        مرفوض
                    </div>
                </div>
                <div class="order-content">
                    <div class="order-main-section">
                        <div class="client-info">
                            <img src="images/client-avatar.jpg" alt="صورة العميل" class="client-avatar">
                            <div class="client-details">
                                <div class="client-name">خالد علي</div>
                                <div class="client-badges">
                                    <span class="badge badge-scammer">
                                        <i class="fas fa-user-shield"></i>
                                        محاولة احتيال
                                        <span class="rating-count">(2 تقييم)</span>
                                    </span>
                                    <span class="badge badge-suspicious">
                                        <i class="fas fa-user-secret"></i>
                                        مشبوه
                                        <span class="rating-count">(3 تقييم)</span>
                                    </span>
                                    <span class="badge badge-cancellation">
                                        <i class="fas fa-ban"></i>
                                        إلغاء متكرر
                                        <span class="rating-count">(4 مرات)</span>
                                    </span>
                                </div>
                                <div class="client-actions">
                                    <button class="rate-client-btn" onclick="openRatingModal(this)">
                                        <i class="fas fa-star"></i>
                                        تقييم العميل
                                    </button>
                                    <button class="report-btn" onclick="openReportModal(this)">
                                        <i class="fas fa-flag"></i>
                                        إبلاغ
                                    </button>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>الدمام، حي الشاطئ</span>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-phone"></i>
                                    <span>+966 54 123 7890</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-details">
                            <div class="details-title">
                                <i class="fas fa-clipboard-list"></i>
                                تفاصيل الطلب
                            </div>
                            <p class="details-text">مطلوب تركيب نظام أمان في المنزل. يطلب الدفع مقدماً.</p>
                            <div class="details-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>13 مارس 2024</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>11:00 صباحاً</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>500 ريال</span>
                                </div>
                            </div>
                            <div class="provider-response">
                                <div class="response-header">
                                    <i class="fas fa-reply"></i>
                                    ردك على الطلب
                                </div>
                                <div class="response-content">
                                    عذراً، لا يمكن قبول الطلب بسبب طلب الدفع مقدماً
                                </div>
                                <div class="response-time">
                                    <i class="fas fa-clock"></i>
                                    تم الرد في 13 مارس 2024 - 10:45 صباحاً
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- طلب منتهي - عميل جيد -->
            <div class="order-card" data-status="completed">
                <div class="order-header">
                    <div class="order-id">
                        <i class="fas fa-hashtag"></i>
                        طلب #12342
                    </div>
                    <div class="order-status status-completed">
                        <i class="fas fa-check-circle"></i>
                        منتهي
                    </div>
                </div>
                <div class="order-content">
                    <div class="order-main-section">
                        <div class="client-info">
                            <img src="images/client-avatar.jpg" alt="صورة العميل" class="client-avatar">
                            <div class="client-details">
                                <div class="client-name">سارة عبدالله</div>
                                <div class="client-badges">
                                    <span class="badge badge-verified">
                                        <i class="fas fa-check-circle"></i>
                                        عميل موثق
                                    </span>
                                    <span class="badge badge-premium">
                                        <i class="fas fa-crown"></i>
                                        يدفع إكرامية جيدة
                                        <span class="rating-count">(25 تقييم)</span>
                                    </span>
                                    <span class="badge badge-punctual">
                                        <i class="fas fa-clock"></i>
                                        دقيق في المواعيد
                                        <span class="rating-count">(18 تقييم)</span>
                                    </span>
                                    <span class="badge badge-respectful">
                                        <i class="fas fa-handshake"></i>
                                        محترم
                                        <span class="rating-count">(22 تقييم)</span>
                                    </span>
                                </div>
                                <div class="client-actions">
                                    <button class="rate-client-btn" onclick="openRatingModal(this)">
                                        <i class="fas fa-star"></i>
                                        تقييم العميل
                                    </button>
                                    <button class="report-btn" onclick="openReportModal(this)">
                                        <i class="fas fa-flag"></i>
                                        إبلاغ
                                    </button>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>الخبر، حي الراكة</span>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-phone"></i>
                                    <span>+966 53 456 7890</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-details">
                            <div class="details-title">
                                <i class="fas fa-clipboard-list"></i>
                                تفاصيل الطلب
                            </div>
                            <p class="details-text">مطلوب تنظيف مكيفات المنزل. عدد 3 مكيفات سبليت.</p>
                            <div class="details-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>12 مارس 2024</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>9:00 صباحاً</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>300 ريال</span>
                                </div>
                            </div>
                            <div class="provider-response">
                                <div class="response-header">
                                    <i class="fas fa-reply"></i>
                                    ردك على الطلب
                                </div>
                                <div class="response-content">
                                    تم استلام طلبكم وسأقوم بتنظيف المكيفات في الموعد المحدد
                                </div>
                                <div class="response-time">
                                    <i class="fas fa-clock"></i>
                                    تم الرد في 12 مارس 2024 - 8:30 صباحاً
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- طلب جديد - عميل صعب التعامل -->
            <div class="order-card" data-status="new">
                <div class="order-header">
                    <div class="order-id">
                        <i class="fas fa-hashtag"></i>
                        طلب #12341
                    </div>
                    <div class="order-status status-new">
                        <i class="fas fa-star"></i>
                        طلب جديد
                    </div>
                </div>
                <div class="order-content">
                    <div class="order-main-section">
                        <div class="client-info">
                            <img src="images/client-avatar.jpg" alt="صورة العميل" class="client-avatar">
                            <div class="client-details">
                                <div class="client-name">عبدالله محمد</div>
                                <div class="client-badges">
                                    <span class="badge badge-difficult">
                                        <i class="fas fa-user-slash"></i>
                                        صعب التعامل
                                        <span class="rating-count">(10 تقييم)</span>
                                    </span>
                                    <span class="badge badge-complainer">
                                        <i class="fas fa-comment-slash"></i>
                                        شكاوى متكررة
                                        <span class="rating-count">(6 تقييم)</span>
                                    </span>
                                    <span class="badge badge-unreliable">
                                        <i class="fas fa-user-times"></i>
                                        غير موثوق
                                        <span class="rating-count">(4 تقييم)</span>
                                    </span>
                                </div>
                                <div class="client-actions">
                                    <button class="rate-client-btn" onclick="openRatingModal(this)">
                                        <i class="fas fa-star"></i>
                                        تقييم العميل
                                    </button>
                                    <button class="report-btn" onclick="openReportModal(this)">
                                        <i class="fas fa-flag"></i>
                                        إبلاغ
                                    </button>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>مكة المكرمة، حي العزيزية</span>
                                </div>
                                <div class="client-info-row">
                                    <i class="fas fa-phone"></i>
                                    <span>+966 56 789 0123</span>
                                </div>
                            </div>
                        </div>

                        <div class="order-details">
                            <div class="details-title">
                                <i class="fas fa-clipboard-list"></i>
                                تفاصيل الطلب
                            </div>
                            <p class="details-text">مطلوب إصلاح تسرب في الحمام. يطلب الحضور فوراً.</p>
                            <div class="details-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>15 مارس 2024</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>3:00 مساءً</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>250 ريال</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="quick-responses">
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-clock"></i>
                            سأكون هناك خلال 30 دقيقة
                        </button>
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-hourglass-half"></i>
                            سأكون هناك خلال ساعة
                        </button>
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-ban"></i>
                            لست متاحاً حالياً
                        </button>
                        <button class="quick-response-btn" onclick="setQuickResponse(this)">
                            <i class="fas fa-calendar-alt"></i>
                            هل يمكننا تحديد موعد آخر؟
                        </button>
                    </div>

                    <div class="custom-message">
                        <textarea class="message-input" placeholder="اكتب رسالة مخصصة للعميل..."></textarea>
                    </div>

                    <div class="order-actions">
                        <button class="action-btn accept-btn" onclick="handleOrderResponse(this, 'accept')">
                            <i class="fas fa-check"></i>
                            قبول الطلب
                        </button>
                        <button class="action-btn reject-btn" onclick="handleOrderResponse(this, 'reject')">
                            <i class="fas fa-times"></i>
                            رفض الطلب
                        </button>
                        <button class="action-btn schedule-btn" onclick="scheduleOrder(this)">
                            <i class="fas fa-calendar-alt"></i>
                            تحديد موعد
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- إضافة Modal التقييم -->
    <div class="modal" id="ratingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">تقييم العميل</h3>
                <button class="close-modal" onclick="closeRatingModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="rating-form" onsubmit="submitRating(event)">
                <div class="form-group">
                    <label class="form-label">سلوك العميل</label>
                    <div class="rating-tags">
                        <span class="rating-tag" onclick="toggleTag(this)">محترم</span>
                        <span class="rating-tag" onclick="toggleTag(this)">غير محترم</span>
                        <span class="rating-tag" onclick="toggleTag(this)">دقيق في المواعيد</span>
                        <span class="rating-tag" onclick="toggleTag(this)">متأخر في المواعيد</span>
                        <span class="rating-tag" onclick="toggleTag(this)">يدفع إكرامية جيدة</span>
                        <span class="rating-tag" onclick="toggleTag(this)">لا يدفع إكرامية</span>
                        <span class="rating-tag" onclick="toggleTag(this)">متعاون</span>
                        <span class="rating-tag" onclick="toggleTag(this)">غير متعاون</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">ملاحظات إضافية</label>
                    <textarea class="form-input form-textarea" placeholder="اكتب ملاحظاتك عن تجربة التعامل مع العميل..."></textarea>
                </div>
                <button type="submit" class="submit-rating">
                    <i class="fas fa-check"></i>
                    حفظ التقييم
                </button>
            </form>
        </div>
    </div>

    <!-- إضافة Modal الإبلاغ -->
    <div class="modal" id="reportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">إبلاغ عن العميل</h3>
                <button class="close-modal" onclick="closeReportModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="report-form" onsubmit="submitReport(event)">
                <div class="form-group">
                    <label class="form-label">سبب الإبلاغ</label>
                    <div class="report-reasons">
                        <label class="report-reason">
                            <input type="radio" name="report-reason" value="scam">
                            <span class="report-reason-label">محاولة احتيال</span>
                        </label>
                        <label class="report-reason">
                            <input type="radio" name="report-reason" value="abuse">
                            <span class="report-reason-label">إساءة لفظية</span>
                        </label>
                        <label class="report-reason">
                            <input type="radio" name="report-reason" value="no-show">
                            <span class="report-reason-label">عدم الحضور في الموعد</span>
                        </label>
                        <label class="report-reason">
                            <input type="radio" name="report-reason" value="payment">
                            <span class="report-reason-label">مشاكل في الدفع</span>
                        </label>
                        <label class="report-reason">
                            <input type="radio" name="report-reason" value="other">
                            <span class="report-reason-label">سبب آخر</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">تفاصيل الإبلاغ</label>
                    <textarea class="form-input form-textarea" placeholder="اكتب تفاصيل الإبلاغ هنا..." required></textarea>
                </div>
                <button type="submit" class="submit-report">
                    <i class="fas fa-paper-plane"></i>
                    إرسال الإبلاغ
                </button>
            </form>
        </div>
    </div>

    <!-- إضافة Modal تحديد الموعد -->
    <div class="modal" id="scheduleModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">تحديد موعد جديد</h3>
                <button class="close-modal" onclick="closeScheduleModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="schedule-form" onsubmit="submitSchedule(event)">
                <div class="form-group">
                    <label class="form-label">التاريخ والوقت</label>
                    <input type="text" class="form-input" placeholder="مثال: 20 مارس 2024 - 2:00 مساءً" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ملاحظات إضافية</label>
                    <textarea class="form-input form-textarea" placeholder="اكتب أي ملاحظات إضافية للموعد الجديد..."></textarea>
                </div>
                <button type="submit" class="submit-schedule">
                    <i class="fas fa-check"></i>
                    تأكيد الموعد
                </button>
            </form>
        </div>
    </div>

    <!-- زر إضافة طلب يدوي -->
    <button class="floating-btn" onclick="openManualOrderModal()">
        <i class="fas fa-plus"></i>
    </button>

    <!-- Modal إضافة طلب يدوي -->
    <div class="modal" id="manualOrderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">إضافة طلب خدمة جديد</h3>
                <button class="close-modal" onclick="closeManualOrderModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="manual-order-form" onsubmit="submitManualOrder(event)">
                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-user"></i>
                        معلومات العميل
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">اسم العميل</label>
                            <input type="text" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">رقم الجوال</label>
                            <input type="tel" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">العنوان</label>
                            <input type="text" class="form-input" required>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-calendar-alt"></i>
                        تفاصيل الموعد
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">التاريخ</label>
                            <input type="text" class="form-input" id="orderDate" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">الوقت</label>
                            <input type="text" class="form-input" id="orderTime" readonly>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-clipboard-list"></i>
                        قائمة الطلبات
                    </div>
                    <div class="services-search">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="serviceSearch" placeholder="ابحث عن خدمة..." onkeyup="filterServices()">
                        </div>
                    </div>
                    <div class="services-grid">
                        <div class="service-card" onclick="selectService(this, 'delivery_breakfast', 'توصيل إفطار', 50)">
                            <i class="fas fa-coffee"></i>
                            <span>توصيل إفطار</span>
                            <small>50 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'delivery_lunch', 'توصيل غداء', 75)">
                            <i class="fas fa-utensils"></i>
                            <span>توصيل غداء</span>
                            <small>75 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'delivery_dinner', 'توصيل عشاء', 75)">
                            <i class="fas fa-moon"></i>
                            <span>توصيل عشاء</span>
                            <small>75 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'delivery_snacks', 'توصيل وجبات خفيفة', 40)">
                            <i class="fas fa-cookie"></i>
                            <span>توصيل وجبات خفيفة</span>
                            <small>40 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'catering_wedding', 'تموين أعراس', 2000)">
                            <i class="fas fa-glass-cheers"></i>
                            <span>تموين أعراس</span>
                            <small>2000 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'catering_corporate', 'تموين شركات', 1500)">
                            <i class="fas fa-building"></i>
                            <span>تموين شركات</span>
                            <small>1500 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'catering_events', 'تموين مناسبات', 1800)">
                            <i class="fas fa-calendar-alt"></i>
                            <span>تموين مناسبات</span>
                            <small>1800 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'service_setup', 'تجهيز وتنظيم', 300)">
                            <i class="fas fa-tools"></i>
                            <span>تجهيز وتنظيم</span>
                            <small>300 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'service_cleanup', 'تنظيف وتجميع', 250)">
                            <i class="fas fa-broom"></i>
                            <span>تنظيف وتجميع</span>
                            <small>250 ريال</small>
                        </div>
                        <div class="service-card" onclick="selectService(this, 'service_waiting', 'خدمة الانتظار', 400)">
                            <i class="fas fa-user-tie"></i>
                            <span>خدمة الانتظار</span>
                            <small>400 ريال</small>
                        </div>
                    </div>

                    <div class="order-items" id="orderItems">
                        <!-- سيتم إضافة العناصر هنا ديناميكياً -->
                    </div>
                    <div class="order-total">
                        <span>المجموع:</span>
                        <span class="total-amount">0 ريال</span>
                    </div>
                </div>

                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-comment-alt"></i>
                        ملاحظات إضافية
                    </div>
                    <div class="form-group">
                        <textarea class="form-input form-textarea" placeholder="اكتب أي تفاصيل إضافية عن الطلب مثل: عدد الأشخاص، تفضيلات خاصة، ملاحظات..."></textarea>
                    </div>
                </div>

                <button type="submit" class="submit-manual-order">
                    <i class="fas fa-plus"></i>
                    إضافة الطلب
                </button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // نظام فلتر الطلبات
            const filterBtns = document.querySelectorAll('.filter-btn');
            const orderCards = document.querySelectorAll('.order-card');

            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // إزالة كلاس active من جميع الأزرار
                    filterBtns.forEach(b => b.classList.remove('active'));
                    // إضافة كلاس active للزر المحدد
                    btn.classList.add('active');

                    const filter = btn.getAttribute('data-filter');

                    orderCards.forEach(card => {
                        if (filter === 'all' || card.getAttribute('data-status') === filter) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });

            // نظام قبول/رفض الطلبات
            const acceptBtns = document.querySelectorAll('.accept-btn');
            const rejectBtns = document.querySelectorAll('.reject-btn');
            const completeBtns = document.querySelectorAll('.complete-btn');

            acceptBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const card = btn.closest('.order-card');
                    const status = card.querySelector('.order-status');
                    const actions = card.querySelector('.order-actions');

                    status.innerHTML = '<i class="fas fa-tools"></i> جاري العمل';
                    status.className = 'order-status status-in-progress';
                    card.setAttribute('data-status', 'in-progress');

                    // تحديث الأزرار
                    actions.innerHTML = `
                        <button class="action-btn complete-btn" onclick="completeOrder(this)">
                            <i class="fas fa-check-double"></i>
                            إنهاء الطلب
                        </button>
                    `;

                    // إضافة حدث للزر الجديد
                    const newCompleteBtn = actions.querySelector('.complete-btn');
                    newCompleteBtn.addEventListener('click', () => {
                        status.innerHTML = '<i class="fas fa-check-circle"></i> منتهي';
                        status.className = 'order-status status-completed';
                        card.setAttribute('data-status', 'completed');
                        actions.remove();
                    });
                });
            });

            rejectBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const card = btn.closest('.order-card');
                    const status = card.querySelector('.order-status');
                    const actions = card.querySelector('.order-actions');

                    status.innerHTML = '<i class="fas fa-times"></i> مرفوض';
                    status.className = 'order-status status-rejected';
                    card.setAttribute('data-status', 'rejected');
                    actions.remove();
                });
            });

            completeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const card = btn.closest('.order-card');
                    const status = card.querySelector('.order-status');
                    const actions = card.querySelector('.order-actions');

                    status.innerHTML = '<i class="fas fa-check-circle"></i> منتهي';
                    status.className = 'order-status status-completed';
                    card.setAttribute('data-status', 'completed');
                    actions.remove();
                });
            });
        });

        function setQuickResponse(button) {
            const messageInput = button.closest('.order-card').querySelector('.message-input');
            messageInput.value = button.textContent.trim();
            messageInput.focus();
            updateCharCount(messageInput);
        }

        function insertTemplate(button, template) {
            const messageInput = button.closest('.custom-message').querySelector('.message-input');
            messageInput.value = template.trim();
            messageInput.focus();
            updateCharCount(messageInput);
        }

        function handleOrderResponse(button, action) {
            const orderCard = button.closest('.order-card');
            const messageInput = orderCard.querySelector('.message-input');
            let message = messageInput.value.trim();
            
            if (!message && action === 'accept') {
                message = 'تم استلام طلبكم بنجاح';
                messageInput.value = message;
                updateCharCount(messageInput);
            } else if (!message) {
                showNotification('الرجاء إضافة رسالة للعميل', 'warning');
                return;
            }

            button.classList.add('loading');
            button.disabled = true;

            // محاكاة إرسال الطلب
            setTimeout(() => {
                const statusElement = orderCard.querySelector('.order-status');
                const actionsContainer = orderCard.querySelector('.order-actions');
                const orderDetails = orderCard.querySelector('.order-details');
                
                // إضافة قسم الرد
                const responseHTML = `
                    <div class="provider-response">
                        <div class="response-header">
                            <i class="fas fa-reply"></i>
                            ردك على الطلب
                        </div>
                        <div class="response-content">
                            ${message}
                        </div>
                        <div class="response-time">
                            <i class="fas fa-clock"></i>
                            تم الرد في ${new Date().toLocaleDateString('ar-SA')} - ${new Date().toLocaleTimeString('ar-SA')}
                        </div>
                    </div>
                `;
                
                if (action === 'accept') {
                    statusElement.innerHTML = '<i class="fas fa-tools"></i> جاري العمل';
                    statusElement.className = 'order-status status-in-progress';
                    orderCard.setAttribute('data-status', 'in-progress');
                    actionsContainer.innerHTML = `
                        <button class="action-btn complete-btn" onclick="completeOrder(this)">
                            <i class="fas fa-check-double"></i>
                            إنهاء الطلب
                        </button>
                    `;
                } else {
                    statusElement.innerHTML = '<i class="fas fa-times"></i> مرفوض';
                    statusElement.className = 'order-status status-rejected';
                    orderCard.setAttribute('data-status', 'rejected');
                    actionsContainer.innerHTML = '';
                }

                // إضافة الرد إلى تفاصيل الطلب
                orderDetails.insertAdjacentHTML('beforeend', responseHTML);

                showNotification(action === 'accept' ? 'تم قبول الطلب بنجاح' : 'تم رفض الطلب');
                button.classList.remove('loading');
                button.disabled = false;
            }, 1000);
        }

        function scheduleOrder(button) {
            const modal = document.getElementById('scheduleModal');
            modal.classList.add('active');
        }

        function closeScheduleModal() {
            const modal = document.getElementById('scheduleModal');
            modal.classList.remove('active');
        }

        function submitSchedule(event) {
            event.preventDefault();
            const dateTime = document.querySelector('.schedule-form .form-input').value;
            const notes = document.querySelector('.schedule-form .form-textarea').value;
            
            // هنا يمكنك إضافة كود لإرسال الموعد الجديد للخادم
            console.log('New schedule:', dateTime);
            console.log('Notes:', notes);
            
            showNotification('تم تحديد الموعد الجديد بنجاح');
            closeScheduleModal();
        }

        // إغلاق Modal عند النقر خارجه
        document.getElementById('scheduleModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeScheduleModal();
            }
        });

        function completeOrder(button) {
            const orderCard = button.closest('.order-card');
            const statusElement = orderCard.querySelector('.order-status');
            const actionsContainer = orderCard.querySelector('.order-actions');

            statusElement.innerHTML = '<i class="fas fa-check-circle"></i> منتهي';
            statusElement.className = 'order-status status-completed';
            orderCard.setAttribute('data-status', 'completed');
            actionsContainer.innerHTML = `
                <button class="action-btn complete-btn" onclick="completeOrder(this)">
                    <i class="fas fa-check-double"></i>
                    إنهاء الطلب
                </button>
            `;

            showNotification('تم إنهاء الطلب بنجاح');
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            // تحديد لون الإشعار حسب النوع
            const colors = {
                success: '#4CAF50',
                warning: '#FFC107',
                error: '#F44336',
                info: '#2196F3'
            };
            
            notification.style.backgroundColor = colors[type];
            notification.style.position = 'fixed';
            notification.style.bottom = '24px';
            notification.style.left = '24px';
            notification.style.padding = '16px 24px';
            notification.style.borderRadius = 'var(--border-radius)';
            notification.style.color = 'white';
            notification.style.fontWeight = '600';
            notification.style.boxShadow = 'var(--shadow)';
            notification.style.zIndex = '1000';
            notification.style.animation = 'slideIn 0.5s ease-out';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.5s ease-out';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 3000);
        }

        function openRatingModal(button) {
            const modal = document.getElementById('ratingModal');
            modal.classList.add('active');
        }

        function closeRatingModal() {
            const modal = document.getElementById('ratingModal');
            modal.classList.remove('active');
        }

        function toggleTag(tag) {
            tag.classList.toggle('selected');
        }

        function submitRating(event) {
            event.preventDefault();
            const selectedTags = document.querySelectorAll('.rating-tag.selected');
            const notes = document.querySelector('.form-textarea').value;
            
            // هنا يمكنك إضافة كود لإرسال التقييم للخادم
            console.log('Selected tags:', Array.from(selectedTags).map(tag => tag.textContent));
            console.log('Notes:', notes);
            
            showNotification('تم حفظ التقييم بنجاح');
            closeRatingModal();
        }

        // إغلاق Modal عند النقر خارجه
        document.getElementById('ratingModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeRatingModal();
            }
        });

        function openReportModal(button) {
            const modal = document.getElementById('reportModal');
            modal.classList.add('active');
        }

        function closeReportModal() {
            const modal = document.getElementById('reportModal');
            modal.classList.remove('active');
        }

        function submitReport(event) {
            event.preventDefault();
            const reason = document.querySelector('input[name="report-reason"]:checked')?.value;
            const details = document.querySelector('.report-form .form-textarea').value;
            
            if (!reason) {
                showNotification('الرجاء اختيار سبب الإبلاغ', 'warning');
                return;
            }
            
            // هنا يمكنك إضافة كود لإرسال الإبلاغ للخادم
            console.log('Report reason:', reason);
            console.log('Report details:', details);
            
            showNotification('تم إرسال الإبلاغ بنجاح');
            closeReportModal();
        }

        // إغلاق Modal عند النقر خارجه
        document.getElementById('reportModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeReportModal();
            }
        });

        function openManualOrderModal() {
            const modal = document.getElementById('manualOrderModal');
            modal.classList.add('active');
            
            // تعيين التاريخ والوقت الحاليين
            const now = new Date();
            const dateOptions = { 
                year: 'numeric', 
                month: '2-digit', 
                day: '2-digit',
                numberingSystem: 'latn',
                calendar: 'gregory'
            };
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit',
                numberingSystem: 'latn'
            };
            
            document.getElementById('orderDate').value = now.toLocaleDateString('en-US', dateOptions);
            document.getElementById('orderTime').value = now.toLocaleTimeString('en-US', timeOptions);
        }

        function closeManualOrderModal() {
            const modal = document.getElementById('manualOrderModal');
            modal.classList.remove('active');
        }

        function submitManualOrder(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            
            // هنا يمكنك إضافة كود لإرسال البيانات للخادم
            console.log('New manual order:', Object.fromEntries(formData));
            
            showNotification('تم إضافة الطلب بنجاح');
            closeManualOrderModal();
            form.reset();
        }

        // إغلاق Modal عند النقر خارجه
        document.getElementById('manualOrderModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeManualOrderModal();
            }
        });

        function selectService(card, serviceId, serviceName, basePrice) {
            // إزالة التحديد من جميع البطاقات
            document.querySelectorAll('.service-card').forEach(c => c.classList.remove('selected'));
            // تحديد البطاقة المختارة
            card.classList.add('selected');

            const orderItems = document.getElementById('orderItems');
            const itemId = Date.now();

            const itemHTML = `
                <div class="order-item" data-id="${itemId}" data-price="${basePrice}">
                    <div class="item-details">
                        <div class="item-name">${serviceName}</div>
                        <div class="item-price">${basePrice} ريال</div>
                    </div>
                    <div class="item-quantity">
                        <button class="quantity-btn" onclick="updateQuantity(${itemId}, -1)">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" onchange="updateItemPrice(${itemId})">
                        <button class="quantity-btn" onclick="updateQuantity(${itemId}, 1)">+</button>
                    </div>
                    <button class="remove-item" onclick="removeOrderItem(${itemId})">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;

            orderItems.insertAdjacentHTML('beforeend', itemHTML);
            updateTotal();
        }

        function updateItemPrice(itemId) {
            const item = document.querySelector(`.order-item[data-id="${itemId}"]`);
            const quantity = parseInt(item.querySelector('.quantity-input').value);
            const basePrice = parseInt(item.dataset.price);
            const totalPrice = basePrice * quantity;
            
            item.querySelector('.item-price').textContent = `${totalPrice} ريال`;
            updateTotal();
        }

        function updateQuantity(itemId, change) {
            const item = document.querySelector(`.order-item[data-id="${itemId}"]`);
            const input = item.querySelector('.quantity-input');
            const newValue = parseInt(input.value) + change;
            
            if (newValue >= 1) {
                input.value = newValue;
                updateItemPrice(itemId);
            }
        }

        function removeOrderItem(itemId) {
            const item = document.querySelector(`.order-item[data-id="${itemId}"]`);
            item.remove();
            updateTotal();
        }

        function updateTotal() {
            const prices = Array.from(document.querySelectorAll('.item-price'))
                .map(price => parseInt(price.textContent));
            
            const total = prices.reduce((sum, price) => sum + price, 0);
            document.querySelector('.total-amount').textContent = `${total} ريال`;
        }

        function filterServices() {
            const searchText = document.getElementById('serviceSearch').value.toLowerCase();
            const categories = document.querySelectorAll('.service-category');
            const cards = document.querySelectorAll('.service-card');

            // إخفاء/إظهار البطاقات
            cards.forEach(card => {
                const serviceName = card.querySelector('span').textContent.toLowerCase();
                if (serviceName.includes(searchText)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });

            // إخفاء/إظهار الفئات
            categories.forEach(category => {
                const visibleCards = category.querySelectorAll('.service-card:not(.hidden)');
                if (visibleCards.length === 0) {
                    category.classList.add('hidden');
                } else {
                    category.classList.remove('hidden');
                }
            });
        }
    </script>
</body>

</html> 